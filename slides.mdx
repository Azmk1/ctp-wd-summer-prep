import { SlideLayout, Image, FlexBox, UnorderedList, ListItem, Box} from 'spectacle'

<SlideLayout.HorizontalImage title="Intro to TypeScript" src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExNXpqdm9hNHB2aHc2MnNhZm5hYXBlc2oxaG82NzhuYWNwYmtkNG84OSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/pzmbXFDiRbEEk1vCtP/giphy.gif" />

<SlideLayout.Center>
  ## What is TypeScript
  - TypeScript is an extension of the JavaScript language
  - It adds annotations that describe what "type" we expect values to be
  - The TypeScript compiler checks these annotations and ensures they match
  - It also removes them during compilation to output pure JavaScript
</SlideLayout.Center>

<SlideLayout.Center>
## What's a Type?

- Types are shapes: a set of properties and methods we expect values to implement
- Strings, Numbers, Objects...even `undefined` and `null` values all have corresponding types
- In JavaScript, references to values in variables, arguments, and return types can be anything
- TypeScript defines what shapes each value should be, and checks that we keep that contract
</SlideLayout.Center>

<SlideLayout.Full>
## JavaScript is an Enigma
<FlexBox alignItems="center" justifyContent="center" flexDirection="column">
  <video autoPlay style={{
    height: 'calc(80vh / (1920 / 1080))',
  }} muted data-autoplay src="https://ctp-presentation-media.s3.us-east-2.amazonaws.com/javascript-toy.mp4
">
  </video>
</FlexBox>
</SlideLayout.Full>

https://ctp-presentation-media.s3.us-east-2.amazonaws.com/javascript-toy.mp4
<SlideLayout.Full>
## TypeScript is a Cool Toy
<FlexBox alignItems="center" justifyContent="center" flexDirection="column">
  <video autoPlay style={{
    height: 'calc(80vh / (1920 / 1080))',
  }} muted data-autoplay src="https://ctp-presentation-media.s3.us-east-2.amazonaws.com/playskool-shape-toy.mp4">
  </video>
</FlexBox>
</SlideLayout.Full>

<SlideLayout.Center>
## JavaScript's Type Problem

<FlexBox alignItems="center" justifyContent="center" flexDirection="column">

What's wrong with this picture?

```javascript
function calculateDiscount(price, discount) {
  return price - (price * discount);
}

console.log(calculateDiscount(100, "20%")); // Oops!
// ---
function calculateDiscount(price, discount) {
  return price - (price * discount);
}

console.log(calculateDiscount(100, 0.2));
```
</FlexBox>
</SlideLayout.Center>

<SlideLayout.VerticalImage
  title="The Price is NaN, Bob"
  src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHAxempuYnNlc29zbnQ0NHBmd2lwdjhjdnpqYnZwdGhmZ2NjeXJieCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/fpFPWzrXhLOo6uFXGg/giphy.gif"
  listItems={[
    'In JavaScript, we can pass any value to a function',
    'JavaScript will try to do the non-sensical math',
    'This results in `NaN` (Not a Number)',
    'This bug that can be hard to find',
  ]}
/>

<SlideLayout.Center>
## TypeScript can predict the future

- On the other hand, TypeScript can tell us about this mistake beforehand
- If we say its a number, TypeScript will complain if we try to give a string
- These bugs happen all the time in JavaScript, as we pass values around
</SlideLayout.Center>

<SlideLayout.Center>
## With TypeScript...

```typescript
function calculateDiscount(price: number, discount: number): number {
  return price - (price * discount);
}

console.log(calculateDiscount(100, "20%"));
// ---
function calculateDiscount(price: number, discount: number): number {
  return price - (price * discount);
}

console.log(calculateDiscount(100, "20%"));
```
</SlideLayout.Center>

<SlideLayout.Center>
## A Silver Bullet in a Foot Gun

- TypeScript guarantees the values ***you assign*** will be of the expected type
- However, values ***you don't assign***, like those that come from API's and users may be incorrect
- Understanding this loophole is important to knowing where to validate, or check data
</SlideLayout.Center>

<SlideLayout.Center>
## The Type Layer
- TypeScript is really two languages in one file
- There's JavaScript, this describes what does happen at runtime
- There's TypeScript, this annotates the JavaScript, describes what should happen at runtime
</SlideLayout.Center>

<SlideLayout.Full>
## JavaScript vs. TypeScript
```typescript
// JavaScript
function calculateDiscount(price, discount) {
  return price - (price * discount);
}

console.log(calculateDiscount(100, "20%"));
// ---
// TypeScript
function calculateDiscount(price: number, discount: number): number {
  return price - (price * discount);
}

console.log(calculateDiscount(100, "20%"));
```
</SlideLayout.Full>

<SlideLayout.Center>
## The Power of Intellisense

- TypeScript tells us about values as we type
- As you're typing `'20%'`, VSCode will give you the error inline
- TypeScript gives your editor additional super-powers, like:
  - Finding all references to a value
  - Seeing what properties an object has
  - Renaming a property across the entire codebase
</SlideLayout.Center>

<SlideLayout.Full>
## Intellisense in Action
```typescript
type User = {
  /** The name of the user, duh */
  name: string;
  /** How old they be */
  age: number;
  /** Are they the creator of the multiverse? */
  isAdmin: boolean;
}

const user: User = {
  name: "Ryan",
  age: 30,
  isAdmin: false,
};
```

</SlideLayout.Full>

<SlideLayout.Full>
## TypeScript's Type System
  <FlexBox alignItems="center" justifyContent="center" flexDirection="row">
    <Box width="100%" height="100%">
      - `undefined`
      - `null`
      - `boolean`
      - `number`
      - `bigint`
      - `string`
      - `symbol`
    </Box>
    <Box width="100%" height="100%">
      - `object`
      - `Function`
      - `Array`
      - `Tuple`
      - `any`
      - `unknown`
      - `never`
    </Box>
  </FlexBox>
</SlideLayout.Full>
<SlideLayout.Full>
## TypeScript's Type System In Action
```typescript
let undef: undefined
let nil = null
let bool = true
let num = 42
let big = 9007199254740991n
let str = "Hello, TypeScript!"
let sym = Symbol("unique")
let obj = { key: "value" }
let func = () => console.log("Hello, Function!")
let arr = [1, 2, 3]
let tuple = ["TypeScript", 4] as [string, number]
let anyValue = "Can be anything" as any
let unknownValue = "Could be anything, but we don't know yet" as unknown
let neverValue = (() => { throw new Error("This should never happen") })()
```
</SlideLayout.Full>

